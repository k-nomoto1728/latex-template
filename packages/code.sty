%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                             %
%    Pseudocode                                               %
%                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{algorithmicx}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}

\algrenewcommand\algorithmicdo{\textbf{:}}
\algrenewcommand\algorithmicthen{\textbf{:}}
\algnewcommand\algorithmicto{\textbf{in}}

\algrenewtext{For}[3]{\algorithmicfor\ #1 \algorithmicto\ #2\ ,\ ...\ , #3 \algorithmicdo}
\algrenewtext{ElsIf}[1]{\textbf{elif}\ #1 \textbf{:}}
\newcommand{\Elif}[1]{\ElsIf{#1}}
\algrenewtext{Else}{\algorithmicelse\ \textbf{:}}
\algrenewtext{Function}[2]{\textbf{def} #1(#2) \textbf{:}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                             %
%    Source Code for Python                                   %
%                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{xcolor}
\usepackage{listings}
\usepackage[listings]{tcolorbox}


% ---- VS Code のダークテーマ風の色設定
\definecolor{vscode-bg}{HTML}{1E1E1E}   % 背景色
\definecolor{vscode-fg}{HTML}{D4D4D4}   % 文字色
\definecolor{vscode-keyword}{HTML}{569CD6} % キーワード
\definecolor{vscode-string}{HTML}{CE9178}  % 文字列
\definecolor{vscode-comment}{HTML}{6A9955} % コメント
\definecolor{vscode-function}{HTML}{DCDCAA} % 関数名
\definecolor{vscode-number}{HTML}{B5CEA8}  % 数値

% ---- ソースコード環境
\newtcblisting{vscode}{
    colback=vscode-bg,
    colframe=black,
    coltitle=white,
    listing only,
    listing options={
        language=Python,
        basicstyle=\ttfamily\normalsize\color{vscode-fg},
        keywordstyle=\color{vscode-keyword},
        stringstyle=\color{vscode-string},
        commentstyle=\color{vscode-comment},
        numberstyle=\color{vscode-number},
        identifierstyle=\color{vscode-fg},
        morekeywords={self}, % Python 用に `self` をハイライト
        showstringspaces=false,
        breaklines=true,
        numbers=left,
        numbersep=5pt,
        frame=none,
        tabsize=4,
    },
    enhanced,
    sharp corners,
    boxrule=0pt, % 枠線なし（好みで調整）
    leftrule=4pt, % 左側に色付きバー
    left=5pt, right=5pt, top=3pt, bottom=3pt
}